name: ubuntu-system-settings
version: 0
summary: The System Settings application for Ubuntu Touch.
description: The System Settings application for Ubuntu Touch.
# confinement: devmode  # use "strict" to enforce system access only via declared interfaces
confinement: strict
apps:
  ubuntu-system-settings:
    command: desktop-launch launcher system-settings
    plugs:
      - unity7
      - network
      - pulseaudio
      - home
      - gsettings
      - opengl
      - timezone-control
      - timeserver-control
      - network-manager
      - time-date-control
      - upower-observe
      - bluez

parts:
  ubuntu-system-settings:
    configflags: [-DCMAKE_INSTALL_PREFIX=/usr, -DSNAP=1]
    plugin: cmake
    source: .
    build-packages:
      - libgtk-3-dev
      - dbus-test-runner
      - debhelper
      - dh-migrations
      - dh-python
      - python3-setuptools
      - python3-all
      - gdb
      - intltool
      - libaccountsservice-dev
      - libandroid-properties-dev
      - libclick-0.4-dev
      - libgeonames-dev
      - libglib2.0-dev
      - libgsettings-qt-dev
      - libevdev-dev
      - libicu-dev
      - libnm-glib-dev
      - libpolkit-agent-1-dev
      - libqmenumodel-dev
      - libtrust-store-dev
      - libudev-dev
      - libunity-api-dev
      - libupower-glib-dev
      - pkg-config
      - qml-module-qtcontacts
      - qml-module-qtsysteminfo
      - qml-module-ubuntu-connectivity
      - qt5-default
      - qtbase5-dev
      - libapt-pkg-dev
    stage-packages:
      - qtbase5-dev
      - accountsservice
      - accountsservice-ubuntu-schemas
      - aethercast
      - bluez
      - click
      - dbus-property-service
      - gsettings-desktop-schemas
      - gsettings-ubuntu-schemas
      - indicator-bluetooth
      - indicator-datetime
      - libgsettings-qt-dev
      - qtbase5-private-dev
      - indicator-network
      - indicator-power
      - powerd
      - qmenumodel-qml
      - qml-module-qtquick2
      - qml-module-biometryd
      - qml-module-ubuntu-components
      - qml-module-qt-labs-folderlistmodel
      - qml-module-qt-labs-settings
      - qml-module-ubuntu-connectivity
      - qml-module-qtmultimedia
      - qtdeclarative5-gsettings1.0
      - qtdeclarative5-ofono0.2
      - qtdeclarative5-dev
      - qtdeclarative5-ubuntu-download-manager0.1
      - qtdeclarative5-ubuntu-history0.1
      - qtdeclarative5-ubuntu-keyboard-extensions0.1
      - qml-module-qtsysteminfo
      - qtdeclarative5-ubuntu-content1
      - qtdeclarative5-ubuntu-settings-components
      - qtdeclarative5-ubuntu-ui-toolkit-plugin
      - suru-icon-theme
      - whoopsie-preferences
      - libsystemsettings1
      - system-image-dbus
      - ubuntu-keyboard-data
      - urfkill
      - python3
      - python3-gi
      - python3-dbus
      - python3-xdg
      - gir1.2-glib-2.0
      - libqt5gui5
      - libqt5sql5
      - libqt5sql5-sqlite
      - appmenu-qt5
      - xkb-data
    after: [desktop/gtk3]

  launcher:
    plugin: dump
    source: snap
    organize:
      launcher: bin/launcher
